<!DOCTYPE html>
<html lang="ko">

<head>
  <meta charset="UTF-8">
  <!-- 개발시 삭제: robots -->
  <meta name="robots" content="noindex" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, shrink-to-fit=no, maximum-scale=1, user-scalable=0">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="-1">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <meta name="format-detection" content="telephone=no">
  <title>제주항공</title>
  <link rel="icon" type="image/png" href="../../assets/images/icon/favicon.ico">
  <link rel="stylesheet" href="../../assets/css/global.css">
  <link rel="stylesheet" href="../../assets/css/jjpay.css">
</head>

<body>
  <div class="modal">
    <div class="modal-header">
      <button class="header__button">
        <span class="hidden">이전으로</span>
      </button>
      <div class="modal-header__title">본인인증</div>
    </div>
    <div class="modal-content">
      <div class="section-wrap">
        <div class="input-wrap input--line">
          <div class="input-row">
            <div class="input-item"><!--error시 .input--error 추가-->
              <div class="input-box ">
                <label for="inp" class="input__label">성명</label>
                <div data-element="form" class="input">
                  <input type="text" data-element="input" id="inp" placeholder="" class="input__text" title="성명" >
                  <button type="button" data-element="remove" class="input__remove-button"><span class="hidden">삭제</span></button>
                </div>
              </div>
              <p tabindex="0" class="input__error">에러메세지</p>
              
            </div>
          </div>

          <div class="input-row input-row--label">
            <div class="input-item"><!--error시 .input--error 추가-->
              <div class="input-flex register-number">
                
                <div class="input-box">
                  <label for="inp" class="input__label">주민등록번호</label>
                  <div class="input" data-element="form">
                    <input type="text" class="input__text" id="" data-element="input" title="주민등록번호 앞 6자리 입력" maxlength="6">
                  </div>
                </div>
                <span class="dash">-</span>
                <div class="input-resident-wrap no_border">
                  <div class="input-box input-box--resident">
                    <div class="input" data-element="form">
                      <input type="text" class="input__text" data-element="input"
                        title="주민번호 뒤 1자리 입력 입력" maxlength="1">
                    </div>
                  </div>
                  <div class="resident-num" aria-label="주민번호 뒤 6자리">
                    <i aria-hidden="true"></i>
                    <i aria-hidden="true"></i>
                    <i aria-hidden="true"></i>
                    <i aria-hidden="true"></i>
                    <i aria-hidden="true"></i>
                    <i aria-hidden="true"></i>
                  </div>
                </div>
                
              </div>

              <!--안내 문구 영역 - s -->
              <p tabindex="0" class="input__error">error</p><!--error문구-->
              <p class="input__sub-text">앞 6자리</p><!--안내 문구-->
              <!--안내 문구 영역 - e -->

            </div>
          </div>

          <div class="section-wrap">
            <div class="radio-button-wrap">
              <span class="radio-button">
                <input type="radio" id="inputRadio1" name="inputRadio" class="radio-button__input" checked>
                <label for="inputRadio1" class="radio-button__label">
                  <span>SKT</span>
                </label>
              </span>
              <span class="radio-button">
                <input type="radio" id="inputRadio2" name="inputRadio" class="radio-button__input">
                <label for="inputRadio2" class="radio-button__label">
                  <span>KT</span>
                </label>
              </span>
              <span class="radio-button">
                <input type="radio" id="inputRadio3" name="inputRadio" class="radio-button__input">
                <label for="inputRadio3" class="radio-button__label">
                  <span>LG U+</span>
                </label>
              </span>
              <span class="radio-button">
                <a href="NA_1_BG2_1.html" target="_blank" class="radio-button__label">
                  <span>알뜰폰</span>
                </a>
                <!-- <input type="radio" id="inputRadio4" name="inputRadio" class="radio-button__input">
                <label for="inputRadio4" class="radio-button__label">
                  <span>알뜰폰</span>
                </label> -->
              </span>
            </div>
          </div>

          <div class="input-row input-row--button align-text">
            <div class="input-item">
              <div class="input-box">
                <label for="inp1" class="input__label">휴대전화 번호</label>
                <div data-element="form" class="input">
                  <input type="tel" data-element="input" id="inp1" placeholder="" class="input__text" title="휴대전화번호 입력">
                  <button type="button" data-element="remove" class="input__remove-button"><span class="hidden">삭제</span></button>
                </div>
                <div class="button-wrap">
                  <!--
                    전화번호 정상 입력(포맷체크)후 활성화 상태
                    <button type="button" class="button button--small button--active"><span class="button__text">전송</span></button>
                    <button type="button" class="button button--small button--active"><span class="button__text">재전송</span></button>
                  -->
                  <button type="button" class="button button--small"><span class="button__text">전송</span></button>
                </div>
              </div>
              <p tabindex="0" class="input__error">에러메세지</p>
              <p class="input__sub-text">‘-’ 없이 입력</p>
            </div>
          </div>

          <div class="input-row input-row--button align-text">
            <div class="input-item">
              <div class="input-box">
                <label for="inp2" class="input__label">인증번호</label>
                <div data-element="form" class="input">
                  <input type="text" data-element="input" id="inp2" placeholder="" class="input__text" maxlength="6" title="인증번호입력">
                    <button type="button" data-element="remove" class="input__remove-button"><span class="hidden">삭제</span></button>
                </div>
                <div class="verification-code">00:00</div>
                <!-- <div class="button-wrap">
                  <button type="button" class="button button--small"><span class="button__text">인증</span></button>
                </div> -->
              </div>
                <p tabindex="0" class="input__error">에러메세지</p>
                <p class="input__sub-text">숫자 6자리 입력</p>
            </div>
          </div>
        </div>
      </div>

      <!-- 전체 동의 -->
      <div class="section-wrap">
        <div class="agree-wrap">
          <div class="check-wrap" data-element="checkList">
            <div class="check-wrap__all-check">
              <span class="checkbox">
                <input type="checkbox" class="checkbox__input" id="inpAgreeAll" data-element="checkAll">
                <label for="inpAgreeAll" class="checkbox__label">
                  <i class="checkbox__ico" aria-hidden="true"></i>
                  <span>전체 동의</span>
                </label>
              </span>
            </div>
            <ul class="check-wrap__list">
              <li class="agree-wrap__item">
                <span class="checkbox checkbox--small">
                  <input type="checkbox" class="checkbox__input" id="inpAgree-01" data-element="checkbox">
                  <label for="inpAgree-01" class="checkbox__label">
                    <i class="checkbox__ico" aria-hidden="true"></i>
                    <span>서비스 이용약관 동의</span>
                  </label>
                </span>
                <button type="button" class="agree-wrap__button" aria-label="서비스 이용약관 동의 보기"></button>
              </li>
              <li class="agree-wrap__item">
                <span class="checkbox checkbox--small">
                  <input type="checkbox" class="checkbox__input" id="inpAgree-02" data-element="checkbox">
                  <label for="inpAgree-02" class="checkbox__label">
                    <i class="checkbox__ico" aria-hidden="true"></i>
                    <span>고유식별정보 처리 동의</span>
                  </label>
                </span>
                <button type="button" class="agree-wrap__button" aria-label="고유 식별정보 처리 동의 보기"></button>
              </li>
              <li class="agree-wrap__item">
                <span class="checkbox checkbox--small">
                  <input type="checkbox" class="checkbox__input" id="inpAgree-03" data-element="checkbox">
                  <label for="inpAgree-03" class="checkbox__label">
                    <i class="checkbox__ico" aria-hidden="true"></i>
                    <span>통신사 이용약관 동의</span>
                  </label>
                </span>
                <button type="button" class="agree-wrap__button" aria-label="통신사 이용약관 동의 보기"></button>
              </li>

            </ul>
          </div>
        </div>
      </div>
      <!-- //전체 동의 -->

    </div>
    <div class="fixed-wrap fixed-wrap--multi-line border-none">
      <!-- checkbox 없는 경우 border-none class 추가 -->
      <div class="button-wrap">
        <!-- button 활성화시 button--active class 추가 -->
        <button type="button" class="button button--primary"><span class="button__text">인증</span></button><!-- 버튼 활성화 시 .button--active 추가-->
      </div>
    </div>
    <a href="#" rel="modal:close" class="modal__close" onclick="closeWindow ()"><span class="blind">닫기</span></a>
  </div>

  <script src="../../assets/js/lib/lib.min.js"></script>
  <script>
    // 창닫기
    function closeWindow() {
      window.open('', '_self', '');
      window.close();
    }

    // 폼 요소 
    var formControl = function () {
      // 셀렉터 목록
      var defaults = {
        wrap: '[data-element="form"]',
        textarea: '[data-element="textarea"]',
        text: '[data-element="input"]',
        email: '[data-element="email"]',
        btn: '[data-element="remove"]',
        byte: '[data-element="checkByte"]',
        current: '[data-element="current"]',
        max: '[data-element="max"]',
        checkList: '[data-element="checkList"]',
        checkAll: '[data-element="checkAll"]',
        checkbox: '[data-element="checkbox"]',
        num: '[data-element="number__input"]',
        numBtn: '[data-element="number__button"]',
        numMinus: '[data-type="decrease"]',
        numPlus: '[data-type="increase"]',
        comma: '[data-string-number]',
        show: '[data-element="toggleShow"]',
        inpToggleWrap: '[data-element="inputToggle"]',
        inpToggleAnchor: '[data-toggle="toggle__anchor"]',
        inpTogglePanel: '[data-toggle="toggle__panel"]',
        keyCode: 0
      }; // 바이트 체크(utf-8)

      function checkByte(el) {
        var $el = $(el);
        var $current = $el.siblings(defaults.byte).find(defaults.current);
        var current = encodeURIComponent(el.value).replace(/%[A-F\d]{2}/g, 'U').length;
        $current.text(current);
      }

      function getData(data) {
        var result = {};

        if (typeof data === 'string') {
          var source = data;
          $.ajax({
            url: source,
            async: false
          }).done(function (response) {
            result = response;
          });
        } else {
          result = eval(data);
        }

        return result;
      } // 1000 단위 쉼표

      function localString(num) {
        var $num = typeof num === 'number' ? num : num.split(',').join('');
        $num *= 1;
        return $num.toLocaleString(undefined, {
          maximumFractionDigits: 5
        });
      } // 입력 숫자 변경(버튼이벤트)

      function changeNum(cur, ty) {
        var $value = cur.split(',').join('');
        $value *= 1;

        if (ty === 'increase') {
          $value += 1;
        } else {
          $value -= 1;
        }

        return localString($value);
      } // 입력 숫자 최대값 / 최소값 설정

      function checkNum(result, maximum) {
        var minimum = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 0;
        var msg = '';

        if (result > maximum || result < minimum) {
          msg = result > maximum ? 'max' : 'min';
        } else {
          msg = 'normal';
        }

        return msg;
      } // 일반 텍스트 입력시 삭제버튼 노출

      function input(el) {
        var $el = $(el);
        var $parent = $el.closest('[data-element="form"]');
        var $btn = $(defaults.btn); // 삭제버튼 노출 우선 삭제 (201203)

        if (el.value.length > 0) {
          $parent.find($btn).addClass('show').removeClass('hide');
        } else {
          $parent.find($btn).removeClass('show').addClass('hide');
        }
      } // 삭제버튼 클릭

      function del(el, target) {
        var $el = $(el);
        var $parent = $el.closest('[data-element="form"]');
        setTimeout(function () {
          $parent.find('[data-element="input"], [data-element="email"]').prop('value', '').focus();
          $el.removeClass('show').addClass('hide');
        }, 200);

        if ($(target).data('element') === 'textarea') {
          checkByte(target);
        }
      } // 입력 숫자 변경(버튼이벤트)


      function numberButton(el) {
        var $target = $(el);
        var $input = $target.siblings(defaults.num);
        var $current = $input.val();
        var $type = $target.data('type');
        var $res = changeNum(localString($current), $type);
        var $max = $input.data('max');
        var $min = $input.data('min') > 0 ? $input.data('min') : 0;
        var msg = checkNum($res, $max, $min);

        if (msg === 'normal') {
          $input.prop('value', $res);
          $input.siblings(defaults.numBtn).prop('disabled', false);
        }

        if ($input.val() >= $max) {
          $input.siblings(defaults.numPlus).prop('disabled', true);
        }

        if ($input.val() <= $min) {
          $input.siblings(defaults.numMinus).prop('disabled', true);
        }
      } // 입력 숫자 직접 입력시

      function numberInput(el) {
        var $el = $(el);
        var $max = $el.data('max');
        var $min = $el.data('min') > 0 ? $el.data('min') : 0;
        var $current = $el.val().split(',').join('') * 1;
        var $returnValue;
        $el.prop('value', function () {
          if ($current > $max) {
            $returnValue = $max;
          } else if ($current < $min) {
            $returnValue = $min;
          } else {
            $returnValue = $current;
          }

          return $returnValue;
        });
      } // 체크박스 전체 체크(전체체크버튼 변경)

      function checkAll(wrap, $max, $current) {
        if ($max === $current) {
          $(wrap).find(defaults.checkAll).prop('checked', true); // eslint-disable-next-line func-names

          $(wrap).find(defaults.inpToggleWrap).each(function () {
            if ($(this).find(defaults.inpToggleAnchor).prop('checked') === true) {
              $(this).find(defaults.inpToggleAnchor).attr('aria-expanded', 'true');
              $(this).find(defaults.inpTogglePanel).stop().slideDown(300);
            }
          });
        } else {
          $(wrap).find(defaults.checkAll).prop('checked', false); // eslint-disable-next-line func-names

          $(wrap).find(defaults.inpToggleWrap).each(function () {
            if ($(this).find(defaults.inpToggleAnchor).prop('checked') === false) {
              $(this).find(defaults.inpToggleAnchor).attr('aria-expanded', 'false');
              $(this).find(defaults.inpTogglePanel).stop().slideUp(300);
            }
          });
        }
      } // 체크박스 전체 체크

      function checkbox(wrap, el) {
        var $max = wrap.find(defaults.checkbox).not(':disabled').length;
        var $state = el.prop('checked');
        var $current = 0;
        var $checkAll = false;

        if (el.data('element') === 'checkAll') {
          $checkAll = true;
        } else {
          $checkAll = false;
        }

        wrap.find(defaults.checkbox).each(function (i, item) {
          if ($checkAll) {
            $(item).not(':disabled').prop('checked', $state);

            if ($state) {
              $current = $max;
            } else {
              $current = 0;
            }
          } else {
            $current = $(item).prop('checked') === true ? $current += 1 : $current += 0;
          }
        });
        checkAll(wrap, $max, $current);
      }

      function showPassword(btn) {
        var $btn = $(btn);
        var $text = $btn.siblings(defaults.$text);
        var $type = $text.attr('type');

        if ($type === 'password') {
          $text.attr('type', 'text');
          $btn // .css({
          //   'background-image': 'url(../images/icon/icon-password-on.png)',
          // })
          .closest('[data-element="form"]').addClass('show-password');
        } else {
          $text.attr('type', 'password');
          $btn // .css({
          //   'background-image': 'url(../images/icon/icon-password-on.png)',
          // })
          .closest('[data-element="form"]').removeClass('show-password');
        }
      } 
  
      // 폼 요소 이벤트
      function event() {
        var $form = $(defaults.wrap);
        var $check = $(defaults.checkList);

        var checkIsActive = function checkIsActive(targetInput) {
          var $parent = $(targetInput).closest($form);
          var $this = $(targetInput);
          var val = $this.val();

          if (val.trim() === '') {
            $parent.removeClass('is-active');
          } else {
            $parent.addClass('is-active');
          }
        };

        var item = '';
        $form.on('input', defaults.text, function (i) {
          item = i.target;
          input(item);
          checkIsActive(item);
        });
        $form.on('input', defaults.email, function (i) {
          item = i.target;
          input(item);
          checkIsActive(item);
        });
        $form.on('input', defaults.textarea, function (i) {
          item = i.target;
          checkByte(item);
          input(item);
          checkIsActive(item);
        });
        $form.on('click', defaults.btn, function (b) {
          //del(b.target, item);
          $(this).prevAll('.input__text').val('')
        });
        $form.on('click', defaults.numBtn, function (e) {
          numberButton(e.target, defaults);
        });
        $form.on('click', defaults.show, function (e) {
          showPassword(e.target);
        });
        $form.on('blur', defaults.num, function (e) {
          numberInput(e.target);
        });
        $form.on({
          focusin: function focusin(e) {
            var $parent = $(e.target).closest($form);
            var $this = $(e.target);
            setTimeout(function () {
              var val = '';
              $parent.addClass('is-focus');
              $parent.parent('.input-box').addClass('label-active'); // 20210315 form 스타일추가 

              if ($this.is('input, textarea')) {
                val = $this.val();
              } else {
                val = $this.siblings('input, textarea').val();
              }

              if (val) {
                $parent.find('[data-element="remove"]').addClass('show').removeClass('hide');
              }
            }, 100);
          },
          focusout: function focusout(e) {
            var $this = $(e.target);
            var $parent = $this.closest($form);
            var val = '';

            if ($this.is('input, textarea')) {
              val = $this.val();
            } else {
              val = $this.siblings('input, textarea').val();
            }

            // 20210315 form 스타일추가 - s
            if (val) {
              $parent.addClass('is-active');
              $parent.parent('.input-box').addClass('label-active');
            } else {
              $parent.removeClass('is-active');
              $parent.parent('.input-box').removeClass('label-active');
            }
            // 20210315 form 스타일추가 - e 

            setTimeout(function () {
              if (!$parent.find('[data-element="remove"]').is(':focus')) {
                $parent.removeClass('is-focus').find('button.show').removeClass('show').addClass('hide');
              }
            }, 50);
          }
        });
        $check.on('change', '[type="checkbox"]', function (e) {
          var $elem = $(e.target);
          var $wrap = $elem.closest(defaults.checkList);
          checkbox($wrap, $elem);
        });
        $(defaults.comma).each(function (i, v) {
          var $val = v.value;
          $(v).prop('value', localString($val));
        });
        $form.on('blur', defaults.comma, function (i) {
          var $i = $(i.target);
          var $val = $i.prop('value');
          $i.prop('value', localString($val));
        });
        $form.on('focus', defaults.comma, function (i) {
          var $i = $(i.target);
          var $val = $i.prop('value');
          $i.prop('value', $val.split(',').join(''));
        });
        $(defaults.email).each(function (i, el) {
          var $elem = $(el);
          var domainURL = $elem.data('json');
          var domainList = getData(domainURL);
        });
        $('input').each(function (i, dom) {
          var attrType = dom.getAttribute('type');

          if (attrType === 'text' || attrType === 'email' || attrType === 'textarea') {
            checkIsActive(dom);
          }
        });
      }

      return {
        init: function init() {
          event();
        }
      };
    }(); 

    formControl.init();
  </script>
</body>

</html>